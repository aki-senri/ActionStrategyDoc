# サーヴァントシステム TODO リスト

## 召喚システム
### ASSummonPoint
- [ ] 可視化機能
  - [ ] デフォルトのメッシュ設定
  - [ ] 召喚エフェクトの実装
  - [ ] 召喚進行度の可視化
- [ ] 所有者管理
  - [ ] 所有者からの登録解除処理の実装
  - [ ] 所有者変更時のクリーンアップ処理
- [ ] 召喚条件チェック
  - [ ] マナコストのチェック実装
  - [ ] サーヴァント数制限のチェック実装
  - [ ] 召喚可能状態の表示機能
- [ ] サーヴァント初期設定
  - [ ] チーム設定の実装
  - [ ] AI設定の実装
  - [ ] サーヴァントマネージャーへの登録処理
  - [ ] 初期グループ設定

## 戦闘システム
### 攻撃処理の実装
- [ ] 攻撃範囲内の敵検出処理
  - [ ] コリジョンチェックの実装
  - [ ] トレース処理の実装
  - [ ] 攻撃判定の可視化（デバッグ用）
- [ ] 攻撃ヒット時の処理
  - [ ] ヒットストップの実装
  - [ ] エフェクト表示
  - [ ] サウンド再生

### 死亡処理の拡張
- [ ] AIコントローラーの無効化処理
- [ ] グループシステムからの削除処理
- [ ] 報酬システム
  - [ ] 経験値の実装
  - [ ] アイテムドロップの実装
  - [ ] 報酬テーブルの設定

## グループ行動システム
### 基本システム
- [x] グループ管理クラスの実装
- [x] グループへの参加/離脱処理
- [x] グループ情報の共有機能

### サーヴァントマネージャーの拡張
- [ ] サーヴァント維持コストの実装
  - [ ] サーヴァントタイプごとのコスト設定
  - [ ] リソース消費と連携
  - [ ] 上限超過時の自動解雇機能
- [ ] グループの自動編成機能
  - [ ] 役割バランスの最適化
  - [ ] 戦力配分の自動調整
- [ ] グループのプリセット保存/読み込み
  - [ ] よく使う編成の保存機能
  - [ ] プリセットの切り替え機能

### UIとの連携
- [ ] オルガン画面でのグループ表示
  - [ ] グループアイコンの表示
  - [ ] グループ状態の可視化
  - [ ] 選択UIの実装
- [ ] サーヴァント配置インターフェース
  - [ ] ドラッグ&ドロップでの配置
  - [ ] 移動先指定UI
  - [ ] グループ編集UI
- [ ] サーヴァント情報パネル
  - [ ] ステータス表示
  - [ ] 装備/スキル表示
  - [ ] レベルアップ機能

## AI行動システム
### ビヘイビアツリー
- [ ] パトロール行動
  - [ ] 待機処理の実装
- [ ] 戦闘行動
  - [ ] 敵の探知
  - [ ] 攻撃パターンの選択
- [ ] グループ行動
  - [ ] 陣形の維持
  - [ ] 位置取り

## 経路探索とナビゲーション
- [ ] ゴースト間の経路探索アルゴリズム改善
  - [ ] ダイクストラアルゴリズムの実装
  - [ ] A*アルゴリズムへの拡張
  - [ ] 経路のキャッシュ機能
- [ ] サーヴァントの移動補間
  - [ ] より自然な移動パターン
  - [ ] グループでの移動形成の維持
  - [ ] 障害物回避の改善
- [ ] ナビメッシュとの連携
  - [ ] 詳細な移動経路の生成
  - [ ] 動的障害物への対応
  - [ ] 複数階層の移動対応

## アニメーション
### 基本アニメーション
- [ ] 移動アニメーション
  - [ ] 歩行
  - [ ] 走行
  - [ ] 方向転換
- [ ] 戦闘アニメーション
  - [ ] 通常攻撃
  - [ ] スキル攻撃
  - [ ] ガード
- [ ] リアクション
  - [ ] ダメージ
  - [ ] 死亡
  - [ ] ノックバック

### アニメーション制御
- [ ] アニメーションブループリントの実装
- [ ] ステートマシンの設定
- [ ] モンタージュの設定

## バランス調整
### パラメータ調整
- [ ] 基本ステータス
  - [ ] 体力
  - [ ] 攻撃力
  - [ ] 防御力
  - [ ] 移動速度
- [ ] 戦闘パラメータ
  - [ ] 攻撃範囲
  - [ ] 攻撃速度
  - [ ] クールダウン
  - [ ] ヒットストップ時間

### AI調整
- [ ] 探知範囲
- [ ] 反応速度
- [ ] 意思決定の頻度
- [ ] グループ行動の連携度

## 最適化
- [ ] パフォーマンス計測
- [ ] メモリ使用量の最適化
- [ ] ネットワーク同期の最適化
- [ ] LODの実装

## デバッグ機能
- [ ] デバッグ表示の実装
  - [ ] ステータス表示
  - [ ] AI状態の可視化
  - [ ] 攻撃範囲の可視化
  - [ ] グループ情報の表示
  - [ ] 経路表示機能
- [ ] デバッグコマンドの実装
  - [ ] パラメータ調整
  - [ ] 状態変更
  - [ ] グループ操作
  - [ ] サーヴァント一括生成/削除
  - [ ] 移動テスト機能 